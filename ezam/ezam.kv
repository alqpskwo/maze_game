#:kivy 1.0.9

<PlayerWidget>:
    size: 10, 10
    canvas:
        Color:
            group: 'color'
            rgb: (0, 1, 0, 1)
        Rectangle:
            size: 10, 10
            pos: (self.x - 5, self.y - 5)
        Rectangle:
            size: 10, 10
            pos: (self.screen_width + self.x - 5, self.y - 5)
        Rectangle:
            size: 10, 10
            pos: (-self.screen_width + self.x - 5, self.y - 5)
        Rectangle:
            size: 10, 10
            pos: (self.x - 5, self.screen_height + self.y - 5)
        Rectangle:
            size: 10, 10
            pos: (self.screen_width + self.x - 5, self.screen_height + self.y - 5)
        Rectangle:
            size: 10, 10
            pos: (-self.screen_width + self.x - 5, self.screen_height + self.y - 5)
        Rectangle:
            size: 10, 10
            pos: (self.x - 5, -self.screen_height + self.y - 5)
        Rectangle:
            size: 10, 10
            pos: (self.screen_width + self.x - 5, -self.screen_height + self.y - 5)
        Rectangle:
            size: 10, 10
            pos: (-self.screen_width + self.x - 5, -self.screen_height + self.y - 5)

<EnemyWidget>:
    size: 10, 10
    canvas:
        Color:
            rgb: (1, 0, 0, 1)
        Triangle:
            points: (self.x, self.y + 5, self.x - 5, self.y - 5, self.x + 5, self.y - 5)
        Triangle:
            points: (self.x+self.screen_width, self.y + 5, self.x+self.screen_width - 5, self.y - 5, self.x+self.screen_width + 5, self.y - 5)
        Triangle:
            points: (self.x-self.screen_width, self.y + 5, self.x-self.screen_width - 5, self.y - 5, self.x-self.screen_width + 5, self.y - 5)
        Triangle:
            points: (self.x, self.y+self.screen_height + 5, self.x - 5, self.y+self.screen_height - 5, self.x + 5, self.y+self.screen_height - 5)
        Triangle:
            points: (self.x+self.screen_width, self.y+self.screen_height + 5, self.x+self.screen_width - 5, self.y+self.screen_height - 5, self.x+self.screen_width + 5, self.y+self.screen_height - 5)
        Triangle:
            points: (self.x-self.screen_width, self.y+self.screen_height + 5, self.x-self.screen_width - 5, self.y+self.screen_height - 5, self.x-self.screen_width + 5, self.y+self.screen_height - 5)
        Triangle:
            points: (self.x, self.y-self.screen_height + 5, self.x - 5, self.y-self.screen_height - 5, self.x + 5, self.y-self.screen_height - 5)
        Triangle:
            points: (self.x+self.screen_width, self.y-self.screen_height + 5, self.x+self.screen_width - 5, self.y-self.screen_height - 5, self.x+self.screen_width + 5, self.y-self.screen_height - 5)
        Triangle:
            points: (self.x-self.screen_width, self.y-self.screen_height + 5, self.x-self.screen_width - 5, self.y-self.screen_height - 5, self.x-self.screen_width + 5, self.y-self.screen_height - 5)

<CrystalWidget>:
    size: 10, 10
    canvas:
        Color:
            rgb: (0, 0, 1, 1)
        Quad:
            points: (self.x, self.y + 5, self.x + 5, self.y, self.x, self.y - 5, self.x - 5, self.y)
        Quad:
            points: (self.x+self.screen_width, self.y + 5, self.x+self.screen_width + 5, self.y, self.x+self.screen_width, self.y - 5, self.x+self.screen_width - 5, self.y)
        Quad:
            points: (self.x-self.screen_width, self.y + 5, self.x-self.screen_width + 5, self.y, self.x-self.screen_width, self.y - 5, self.x-self.screen_width - 5, self.y)
        Quad:
            points: (self.x, self.y+self.screen_height + 5, self.x + 5, self.y+self.screen_height, self.x, self.y+self.screen_height - 5, self.x - 5, self.y+self.screen_height)
        Quad:
            points: (self.x+self.screen_width, self.y+self.screen_height + 5, self.x+self.screen_width + 5, self.y+self.screen_height, self.x+self.screen_width, self.y+self.screen_height - 5, self.x+self.screen_width - 5, self.y+self.screen_height)
        Quad:
            points: (self.x-self.screen_width, self.y+self.screen_height + 5, self.x-self.screen_width + 5, self.y+self.screen_height, self.x-self.screen_width, self.y+self.screen_height - 5, self.x-self.screen_width - 5, self.y+self.screen_height)
        Quad:
            points: (self.x, self.y-self.screen_height + 5, self.x + 5, self.y-self.screen_height, self.x, self.y-self.screen_height - 5, self.x - 5, self.y-self.screen_height)
        Quad:
            points: (self.x+self.screen_width, self.y-self.screen_height + 5, self.x+self.screen_width + 5, self.y-self.screen_height, self.x+self.screen_width, self.y-self.screen_height - 5, self.x+self.screen_width - 5, self.y-self.screen_height)
        Quad:
            points: (self.x-self.screen_width, self.y-self.screen_height + 5, self.x-self.screen_width + 5, self.y-self.screen_height, self.x-self.screen_width, self.y-self.screen_height - 5, self.x-self.screen_width - 5, self.y-self.screen_height)

<GoldWidget>:
    size: 10, 10
    canvas:
        Color:
            rgb: (1, 1, 0, 1)
        Ellipse:
            size: 10, 10
            pos: (self.x - 5, self.y - 5)
        Ellipse:
            size: 10, 10
            pos: (self.x+ self.screen_width - 5, self.y - 5)
        Ellipse:
            size: 10, 10
            pos: (self.x-self.screen_width - 5, self.y - 5)
        Ellipse:
            size: 10, 10
            pos: (self.x - 5, self.y+self.screen_height - 5)
        Ellipse:
            size: 10, 10
            pos: (self.x+ self.screen_width - 5, self.y+self.screen_height - 5)
        Ellipse:
            size: 10, 10
            pos: (self.x-self.screen_width - 5, self.y+self.screen_height - 5)
        Ellipse:
            size: 10, 10
            pos: (self.x - 5, self.y-self.screen_height - 5)
        Ellipse:
            size: 10, 10
            pos: (self.x+ self.screen_width - 5, self.y-self.screen_height - 5)
        Ellipse:
            size: 10, 10
            pos: (self.x-self.screen_width - 5, self.y-self.screen_height - 5)

<GameOverWidget>:
    return_btn: return_btn
    Label:
        center_x: root.width / 2
        center_y: root.height / 2 + 30
        font_size: 40
        text: "Game Over!"
    Button:
        id: return_btn
        center_x: root.width / 2
        center_y: root.height / 2 - 30
        size: 170, 40
        font_size: 20
        text:"OK"

<WelcomeWidget>:
    new_game_btn: new_game_btn
    settings_btn: settings_btn
    Label:
        center_x: root.width / 2
        top: root.top - 50
        font_size: 50
        text: "EZAM"
        color: (1, 0, 0, 1)
        bold: True
    Label:
        center_x: root.width / 2
        top: root.top - 150
        font_size: 20
        halign: "center"
        text: "Use the arrow keys to navigate the maze avoiding\nmonsters and collect all the gold coins to win.\nCollect crystals to gain a power boost allowing\nyou to defeat one monster."
    Button:
        id: new_game_btn
        center_x: root.width / 2
        center_y: root.height / 2
        size: 170, 40
        font_size: 20
        text:"Start"
    Button:
        id: settings_btn
        center_x: root.width / 2
        center_y: root.height / 2 - 60
        size: 170, 40
        font_size: 20
        text:"Settings"

<WinWidget>:
    return_btn: return_btn
    Label:
        center_x: root.width / 2
        center_y: root.height / 2 + 30
        font_size: 40
        text: "You Win!"
    Button:
        id: return_btn
        center_x: root.width / 2
        center_y: root.height / 2 - 30
        size: 170, 40
        font_size: 20
        text:"OK"

<SettingWidget>:
    slider: slider
    val_label: val_label
    desc_label: desc_label
    size_hint_y: None
    height: 40
    Label:
        id: desc_label
        size_hint_x: None
        width: 200
        font_size: 20
    Label:
        id: val_label
        size_hint_x: None
        width: 40
        font_size: 20
    Slider:
        id: slider

